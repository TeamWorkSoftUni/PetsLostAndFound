<div class="container">
  <form class="form-signin" 
        [formGroup]="userToRegister" 
        #registrationForm="ngForm"
        (ngSubmit)="register(); registrationForm.reset()">

    <h2 class="form-signin-heading">Please sign up</h2>
    <label for="username" class="sr-only">Username</label>
    <input type="text" 
          id="username" 
          class="form-control" 
          placeholder="Username" 
          required autofocus
          formControlName="username">
    <span class="text-danger" *ngIf="!userToRegister.controls['username'].valid && userToRegister.controls['username'].touched">Please enter valid username</span>
    
    <label for="email" class="sr-only">Email address</label>
    <input type="email" 
          id="email" 
          class="form-control" 
          placeholder="Email address" 
          required autofocus
          formControlName="email">
    <span class="text-danger" *ngIf="!userToRegister.controls['email'].valid && userToRegister.controls['email'].touched">Please enter valid E-mail</span>
    
    <label for="password" class="sr-only">Password</label>
    <input type="password" 
          id="password" 
          class="form-control" 
          placeholder="Password: At least 6 characters" 
          formControlName="password" required>
    <span class="text-danger" *ngIf="!userToRegister.controls['password'].valid && userToRegister.controls['password'].touched">Please enter valid password</span>
    
    <label for="confirmedPassword" class="sr-only">Confirm Password</label>
    <input type="password" 
          id="confirmedPassword" 
          class="form-control" 
          placeholder="Confirm Password" 
          required
          formControlName="confirmedPassword">
          <span class="text-danger" *ngIf="userToRegister.controls['confirmedPassword'].value != userToRegister.controls['password'].value && userToRegister.controls ['confirmedPassword'].touched ">Passwords do not match</span>
    
    <button [disabled]="!userToRegister.valid||userToRegister.controls['confirmedPassword'].value != userToRegister.controls['password'].value"
            type="submit" 
            class="btn btn-lg btn-primary btn-block">SIGN UP
    </button>
    <span class="text-danger" *ngIf="error">{{errorMessage}}</span>

    <p>
      <a routerLink="/login">Already have an account?</a>
    </p>
  </form>
</div>